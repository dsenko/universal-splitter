console.log("splitter works");var $universalSplitter={initialized:!1,current:null,currentOptions:null,options:[],lastX:null,lastY:null,init:function(){if(!$universalSplitter.initialized){var dragEnd=function(e){e.preventDefault(),$universalSplitter.current=null,$universalSplitter.currentOptions=null,$universalSplitter.lastX=null,$universalSplitter.lastY=null,console.log("dragEnd")},dragMove=function(e){if(e.preventDefault(),$universalSplitter.current&&$universalSplitter.currentOptions){if(void 0!==$universalSplitter.currentOptions.onSplit&&$universalSplitter.currentOptions.onSplit($universalSplitter.currentOptions),$universalSplitter.currentOptions.vertical){var currentX=e.x;null==$universalSplitter.lastX&&($universalSplitter.lastX=currentX),console.log("x: "+currentX);var delta=$universalSplitter.lastX-currentX;if($universalSplitter.currentOptions.delta){if(Math.abs(delta)<$universalSplitter.currentOptions.delta)return}else if(Math.abs(delta)<10)return;$.each($universalSplitter.options,function(i,_options){_options.optionsId===$universalSplitter.currentOptions.optionsId||_options.preventRefresh||(console.log("changes "),console.log(_options),$(_options.first).css("width",_options.initialFirstWidth),$(_options.second).css("width",_options.initialSecondWidth))});var firstWidth=$universalSplitter.currentOptions.first.outerWidth();if("auto"!==$universalSplitter.currentOptions.secondMinWidth){var secondWidth=$universalSplitter.currentOptions.second.outerWidth();currentX>$universalSplitter.lastX?(firstWidth+=Math.abs(delta),secondWidth+=delta):(console.log("left"),firstWidth-=Math.abs(delta),secondWidth+=Math.abs(delta)),console.log(firstWidth+" = "+secondWidth),firstWidth>=$universalSplitter.currentOptions.firstMinWidth&&secondWidth>=$universalSplitter.currentOptions.secondMinWidth&&(console.log("sett"),$universalSplitter.currentOptions.first.css("width",firstWidth+"px"),$universalSplitter.currentOptions.second.css("width",secondWidth+"px"),$universalSplitter.currentOptions.absolute&&$universalSplitter.current.css("margin-left",firstWidth+"px"))}else currentX>$universalSplitter.lastX?firstWidth+=Math.abs(delta):firstWidth-=Math.abs(delta),console.log("setting"),firstWidth>=$universalSplitter.currentOptions.firstMinWidth&&($universalSplitter.currentOptions.first.css("width",firstWidth+"px"),$universalSplitter.currentOptions.second.css("width","auto"),$universalSplitter.currentOptions.absolute&&$universalSplitter.current.css("margin-left",firstWidth+"px"));if($universalSplitter.lastX=currentX,$universalSplitter.currentOptions.adjustSplitterHeight){var maxHeight=0;maxHeight=$universalSplitter.currentOptions.adjustSplitterHeightFromParent?$universalSplitter.currentOptions.parent.outerHeight():Math.max($universalSplitter.currentOptions.first.outerHeight(),$universalSplitter.currentOptions.second.outerHeight()),$universalSplitter.current.css("height",maxHeight+"px")}}if($universalSplitter.currentOptions.horizontal){var currentY=e.y;null==$universalSplitter.lastY&&($universalSplitter.lastY=currentY);var delta=Math.abs($universalSplitter.lastY-currentY),firstHeight=$universalSplitter.currentOptions.first.outerHeight(),secondHeight=$universalSplitter.currentOptions.second.outerHeight();currentY>$universalSplitter.lastY?(firstHeight+=delta,secondHeight-=delta):(firstHeight-=delta,secondHeight+=delta);var sumHeight=firstHeight+secondHeight,parentHeight=$universalSplitter.currentOptions.parent.outerHeight()+$universalSplitter.currentOptions.splitterHeight;console.log(sumHeight+" = "+parentHeight),console.log("firstHeight "+firstHeight+" $universalSplitter.currentOptions.firstMinHeight "+$universalSplitter.currentOptions.firstMinHeight),console.log("secondHeight "+secondHeight+" $universalSplitter.currentOptions.firstMinHeight "+$universalSplitter.currentOptions.secondMinHeight),firstHeight>=$universalSplitter.currentOptions.firstMinHeight&&secondHeight>=$universalSplitter.currentOptions.secondMinHeight&&($universalSplitter.currentOptions.preventSumHeight?(console.log("prevent"),sumHeight==parentHeight&&($universalSplitter.currentOptions.first.css("height",firstHeight+"px"),$universalSplitter.currentOptions.second.css("height",secondHeight+"px"))):($universalSplitter.currentOptions.first.css("height",firstHeight+"px"),$universalSplitter.currentOptions.second.css("height",secondHeight+"px"))),$universalSplitter.lastY=currentY}}};window.addEventListener("mousemove",function(e){dragMove(e)}),window.addEventListener("touchmove",function(e){dragMove(e)}),window.addEventListener("mouseup",dragEnd),window.addEventListener("mouseleave",dragEnd),window.addEventListener("touchend",dragEnd),$universalSplitter.initialized=!0}},remove:function(splitterName){var clearedOptions=[];$.each($universalSplitter.options,function(i,_options){_options.name==splitterName?(console.log(_options.splitterId),$("#"+_options.splitterId).remove(),$(_options.first)[0].style="",$(_options.second)[0].style="",console.log("remove mainMenuSplitter")):clearedOptions.push(_options)}),$universalSplitter.options=clearedOptions},split:function(options){console.log(options),$universalSplitter.initialized||$universalSplitter.init();var clearedOptions=[];$.each($universalSplitter.options,function(i,_options){"#"+_options.first[0].id!==options.first&&"#"+_options.second[0].id!==options.second?clearedOptions.push(_options):($("#"+_options.splitterId).remove(),$(_options.first)[0].style="",$(_options.second)[0].style="")}),$universalSplitter.options=clearedOptions,setTimeout(function(){options.optionsId=Math.random().toString(36).substring(5),void 0!=options.preventSumHeight&&null!=options.preventSumHeight||(options.preventSumHeight=!0),options.firstMinWidth||(options.firstMinWidth=0),options.secondMinWidth||(options.secondMinWidth=0),options.first=$(options.first),options.second=$(options.second),options.addOverflow&&(options.vertical?(options.first.css("overflow-x","hidden"),options.second.css("overflow-x","hidden")):(options.first.css("overflow-y","hidden"),options.second.css("overflow-y","hidden"))),options.parent?options.parent=$(options.parent):options.parent=options.first.parent(),options.splitterHeightPx=null,options.vertical&&("OUTER"==options.splitterHeight?options.splitterHeightPx=$(options.parent).outerHeight():options.splitterHeightPx=$(options.parent).height(),0==options.splitterHeightPx&&("OUTER"==options.splitterHeight?options.splitterHeightPx=Math.max(options.first.outerHeight(),options.second.outerHeight()):options.splitterHeightPx=Math.max(options.first.height(),options.second.height()))),options.horizontal&&(options.splitterHeight||(options.splitterHeight=10),options.splitterHeightPx=options.splitterHeight),options.vertical&&(options.splitterHtml='<div class="splitter-vertical"></div>',options.splitterClass&&(options.splitterHtml='<div class="splitter-vertical '+options.splitterClass+'"></div>')),options.horizontal&&(options.splitterHtml='<div class="splitter-horizontal"></div>',options.splitterClass&&(options.splitterHtml='<div class="splitter-horizontal '+options.splitterClass+'"></div>')),options.splitterWidth||(options.splitterWidth=10),options.splitterId=Math.random().toString(36).substring(8),options.vertical&&(options.absolute?(options.marginLeft=options.first.outerWidth(),"OUTER"==options.splitterHeight?options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="margin-left: '+options.marginLeft+"px; position: relative; float: left; height: "+options.splitterHeightPx+"px; width: "+options.splitterWidth+'px !important"'):options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="margin-left: '+options.marginLeft+"px; position: relative; float: left; height: "+options.splitterHeight+"; width: "+options.splitterWidth+'px !important"')):options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="height: '+options.splitterHeightPx+"px; width: "+options.splitterWidth+'px !important"'),options.initialFirstWidth||(options.initialFirstWidth="calc(50% - "+options.splitterWidth/2+"px)"),options.first.css("width",options.initialFirstWidth),options.initialSecondWidth||(options.initialSecondWidth="calc(50% - "+options.splitterWidth/2+"px)"),options.second.css("width",options.initialSecondWidth)),options.horizontal&&(options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="height: '+options.splitterHeightPx+'px;"')),options.first.after(options.splitterHtml);var dragStart=function(_this){$universalSplitter.current=_this,$.each($universalSplitter.options,function(i,_options){_options.splitterId==$universalSplitter.current[0].id&&($universalSplitter.currentOptions=_options)})};console.log("x");var splitterSelector=$("#"+options.splitterId)[0];splitterSelector.addEventListener("mousedown",function(e){e.preventDefault(),dragStart($(this))}),splitterSelector.addEventListener("touchstart",function(e){e.preventDefault(),dragStart($(this))}),options.updateSplitterHeight=function(){var maxHeight=Math.max(options.first.outerHeight(),options.second.outerHeight());$("#"+options.splitterId).css("height",maxHeight+"px")},$universalSplitter.options.push(options),console.log($universalSplitter.options)},100*$universalSplitter.options.length)}};