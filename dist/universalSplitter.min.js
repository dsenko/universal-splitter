var $universalSplitter={init:function(){if(!this.initialized){var dragEnd=function(e){e.preventDefault(),$universalSplitter.current=null,$universalSplitter.currentOptions=null,$universalSplitter.lastX=null,$universalSplitter.lastY=null,console.log("dragEnd")},dragMove=function(e){if(e.preventDefault(),$universalSplitter.current&&$universalSplitter.currentOptions){if($universalSplitter.currentOptions.vertical){var currentX=e.x;null==$universalSplitter.lastX&&($universalSplitter.lastX=currentX);var delta=$universalSplitter.lastX-currentX,firstWidth=$universalSplitter.currentOptions.first.outerWidth(),secondWidth=$universalSplitter.currentOptions.second.outerWidth();if(currentX>$universalSplitter.lastX?(firstWidth+=Math.abs(delta),secondWidth+=delta):(console.log("left"),firstWidth-=Math.abs(delta),secondWidth+=Math.abs(delta)),firstWidth>=$universalSplitter.currentOptions.firstMinWidth&&secondWidth>=$universalSplitter.currentOptions.secondMinWidth&&(console.log("sett"),$universalSplitter.currentOptions.first.css("width",firstWidth+"px"),$universalSplitter.currentOptions.second.css("width",secondWidth+"px")),$universalSplitter.lastX=currentX,$universalSplitter.currentOptions.adjustSplitterHeight){var maxHeight=Math.max($universalSplitter.currentOptions.first.outerHeight(),$universalSplitter.currentOptions.second.outerHeight());$universalSplitter.current.css("height",maxHeight+"px")}}if($universalSplitter.currentOptions.horizontal){var currentY=e.y;null==$universalSplitter.lastY&&($universalSplitter.lastY=currentY);var delta=Math.abs($universalSplitter.lastY-currentY),firstHeight=$universalSplitter.currentOptions.first.outerHeight(),secondHeight=$universalSplitter.currentOptions.second.outerHeight();currentY>$universalSplitter.lastY?(firstHeight+=delta,secondHeight-=delta):(firstHeight-=delta,secondHeight+=delta);var sumHeight=firstHeight+secondHeight,parentHeight=$universalSplitter.currentOptions.parentHeight;console.log(sumHeight+" = "+parentHeight),firstHeight>=$universalSplitter.currentOptions.firstMinHeight&&secondHeight>=$universalSplitter.currentOptions.secondMinHeight&&sumHeight==parentHeight&&($universalSplitter.currentOptions.first.css("height",firstHeight+"px"),$universalSplitter.currentOptions.second.css("height",secondHeight+"px")),$universalSplitter.lastY=currentY}}};window.addEventListener("mousemove",function(e){dragMove(e)}),window.addEventListener("touchmove",function(e){dragMove(e)}),window.addEventListener("mouseup",dragEnd),window.addEventListener("mouseleave",dragEnd),window.addEventListener("touchend",dragEnd),this.initialized=!0}},split:function(options){this.initialized||this.init(),options.firstMinWidth||(options.firstMinWidth=0),options.secondMinWidth||(options.secondMinWidth=0),options.first=$(options.first),options.second=$(options.second),options.addOverflow&&(options.vertical?(options.first.css("overflow-x","hidden"),options.second.css("overflow-x","hidden")):(options.first.css("overflow-y","hidden"),options.second.css("overflow-y","hidden"))),options.parent||(options.parent=options.first.parent(),options.parentWidth=options.parent.width(),options.parentHeight=options.parent.outerHeight(),options.parentWidth<options.first.width()+options.second.width()&&(options.parentWidth=options.first.width()+options.second.width()),options.parentHeight<options.first.outerHeight()+options.second.outerHeight()&&(options.parentHeight=options.first.outerHeight()+options.second.outerHeight())),options.splitterHeightPx=null,options.vertical&&("OUTER"==options.splitterHeight?options.splitterHeightPx=$(options.parent).outerHeight():options.splitterHeightPx=$(options.parent).height(),0==options.splitterHeightPx&&("OUTER"==options.splitterHeight?options.splitterHeightPx=Math.max(options.first.outerHeight(),options.second.outerHeight()):options.splitterHeightPx=Math.max(options.first.height(),options.second.height()))),options.horizontal&&(options.splitterHeight||(options.splitterHeight=10),options.splitterHeightPx=options.splitterHeight),options.vertical&&(options.splitterHtml='<div class="splitter-vertical"></div>',options.splitterClass&&(options.splitterHtml='<div class="splitter-vertical '+options.splitterClass+'"></div>')),options.horizontal&&(options.splitterHtml='<div class="splitter-horizontal"></div>',options.splitterClass&&(options.splitterHtml='<div class="splitter-horizontal '+options.splitterClass+'"></div>')),options.splitterWidth||(options.splitterWidth=10),options.splitterId=Math.random().toString(36).substring(8),options.vertical&&(options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="height: '+options.splitterHeightPx+"px; width: "+options.splitterWidth+'px !important"'),options.initialFirstWidth?options.first.css("width",options.initialFirstWidth):options.first.css("width","calc(50% - "+options.splitterWidth/2+"px)"),options.initialSecondWidth?options.second.css("width",options.initialSecondWidth):options.second.css("width","calc(50% - "+options.splitterWidth/2+"px)")),options.horizontal&&(options.splitterHtml=options.splitterHtml.replace("<div",'<div id="'+options.splitterId+'" style="height: '+options.splitterHeightPx+'px;"')),options.first.after(options.splitterHtml);var dragStart=function(_this){$universalSplitter.current=_this,$.each($universalSplitter.options,function(i,_options){_options.splitterId==$universalSplitter.current[0].id&&($universalSplitter.currentOptions=_options)})},splitterSelector=$("#"+options.splitterId)[0];splitterSelector.addEventListener("mousedown",function(e){e.preventDefault(),dragStart($(this))}),splitterSelector.addEventListener("touchstart",function(e){e.preventDefault(),dragStart($(this))}),this.options.push(options)},initialized:!1,current:null,currentOptions:null,options:[],lastX:null,lastY:null};